<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The "Ao" Paradox: AI & Cultural Color Perception</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Palette & Structure Comments -->
    <!-- Chosen Palette: Warm Minimalism (Stone/Warm Gray base, Indigo for Ao, Emerald for Midori). Minimalistic, harmonious, supportive. -->

    <!-- Application Structure Plan:
         1. Hero Section: Introduces the core conflict ("Green signal is called Blue").
         2. Interactive Simulator (The Hook): Allows users to slide through a color spectrum and see real-time simulated AI probabilities (English vs. Japanese). This effectively demonstrates the "distortion" hypothesis immediately.
         3. Methodology Section: Explains the process (Spectrum -> Inference -> Comparison) using a clean step-by-step layout.
         4. Quantitative Analysis: A static Chart.js line chart showing the overall probability curves to visualize the "Cultural Gap" mathematically.
         5. Future Directions: Cards outlining next steps (Red/Aka boundary, Generative AI implications).

         Structure Rationale: Prioritizes "showing" (simulation) before "telling" (charts/methodology) to engage the user's curiosity about the linguistic phenomenon first.
    -->

    <!-- Visualization & Content Choices:
         1. Simulator: Custom JS + HTML Range Slider. Goal: Change/Observe. Justification: Direct manipulation helps users feel the "boundary shift" intuitively. (No SVG).
         2. Methodology: CSS Grid with Unicode Icons. Goal: Organize/Process. Justification: Clean, accessible layout without external graphics. (No SVG).
         3. Probability Chart: Chart.js Line Chart. Goal: Compare. Justification: Best for showing the divergence of two continuous functions (En vs Ja probability). (No SVG).
         4. Future Work: Flex Cards. Goal: Inform. Justification: Simple, readable chunks for textual content.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #fafaf9; /* Stone 50 */
            color: #1c1917; /* Stone 900 */
        }

        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 400px;
            background-color: #ffffff;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }

        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #ffffff;
            border: 2px solid #57534e;
            cursor: pointer;
            margin-top: -10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 6px;
            cursor: pointer;
            border-radius: 3px;
            /* Gradient set dynamically in JS */
        }

        .bar-container {
            width: 100%;
            background-color: #e7e5e4; /* Stone 200 */
            border-radius: 9999px;
            height: 12px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            transition: width 0.1s ease-out;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation / Header -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-stone-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <span class="text-2xl">ğŸš¦</span>
                    <span class="font-bold text-xl tracking-tight text-stone-800">The "Ao" Paradox</span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-stone-600">
                    <a href="#simulator" class="hover:text-indigo-600 transition-colors">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</a>
                    <a href="#analysis" class="hover:text-indigo-600 transition-colors">åˆ†æçµæœ</a>
                    <a href="#future" class="hover:text-indigo-600 transition-colors">ä»Šå¾Œã®å±•æœ›</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-20">

        <!-- 1. Introduction Section -->
        <section class="text-center space-y-6 animate-fade-in-up">
            <h1 class="text-4xl md:text-5xl font-extrabold text-stone-900 leading-tight">
                ã€Œé’ä¿¡å·ã€ã¯ã€AIã«ã¨ã£ã¦<br>
                <span class="text-indigo-600">é’(Blue)</span> ãªã®ã‹ <span class="text-emerald-500">ç·‘(Green)</span> ãªã®ã‹ï¼Ÿ
            </h1>
            <p class="text-lg text-stone-600 max-w-3xl mx-auto leading-relaxed">
                æ—¥æœ¬ã§ã¯ç·‘è‰²ã®ä¿¡å·ã‚’ã€Œé’ã€ã¨å‘¼ã³ã€é’èœã‚„é’è™«ã‚‚å®Ÿéš›ã¯ç·‘è‰²ã§ã™ã€‚
                ã“ã®è¨€èªçš„ãªã€Œé’ã€ã®åºƒãŒã‚Šï¼ˆæ„å‘³ã®æ‹¡å¼µï¼‰ã¯ã€æ—¥æœ¬èªã§å­¦ç¿’ã—ãŸAIã®è¦–è¦šèªè­˜ã«ã‚‚å½±éŸ¿ã‚’ä¸ãˆã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ
                Vision-Languageãƒ¢ãƒ‡ãƒ«ï¼ˆCLIPãªã©ï¼‰ã«ãŠã‘ã‚‹<strong>ã€Œæ–‡åŒ–çš„ãªè‰²ã®å¢ƒç•Œç·šã€</strong>ã‚’æ¢ã‚‹ç ”ç©¶ææ¡ˆã§ã™ã€‚
            </p>
        </section>

        <!-- 2. Interactive Simulator (The Core Experience) -->
        <section id="simulator" class="bg-white rounded-2xl shadow-lg border border-stone-100 overflow-hidden">
            <div class="p-8 md:p-12 space-y-8">
                <div class="text-center">
                    <h2 class="text-2xl font-bold text-stone-800">AIè‰²èªè­˜ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h2>
                    <p class="text-stone-500 mt-2">ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚’å‹•ã‹ã—ã¦ã€AIï¼ˆè‹±èªãƒ¢ãƒ‡ãƒ« vs æ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ï¼‰ãŒãã®è‰²ã‚’ã©ã†å‘¼ã¶ã‹ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</p>
                </div>

                <!-- Simulation Controls -->
                <div class="max-w-3xl mx-auto space-y-8">

                    <!-- Color Display & Slider -->
                    <div class="space-y-4">
                        <div id="colorDisplay" class="w-full h-24 rounded-xl shadow-inner flex items-center justify-center border border-stone-200">
                            <span id="hueLabel" class="bg-white/90 px-4 py-1 rounded-full text-stone-700 font-mono font-bold shadow-sm">Hue: 180Â°</span>
                        </div>

                        <div class="relative pt-6">
                            <input type="range" id="hueSlider" min="120" max="240" value="180" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <div class="flex justify-between text-xs text-stone-400 font-medium mt-2 px-1">
                                <span>ç·‘ (120Â°)</span>
                                <span>ã‚·ã‚¢ãƒ³ (180Â°)</span>
                                <span>é’ (240Â°)</span>
                            </div>
                        </div>
                    </div>

                    <!-- AI Models Comparison Panel -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                        <!-- English Model View -->
                        <div class="bg-stone-50 rounded-xl p-6 border border-stone-200">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-bold text-stone-700">ğŸ‡ºğŸ‡¸ English Model</h3>
                                <span class="text-xs bg-stone-200 text-stone-600 px-2 py-1 rounded">Standard CLIP</span>
                            </div>

                            <!-- Green Bar -->
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-emerald-600 font-medium">Label: "Green"</span>
                                    <span id="enGreenVal" class="text-stone-500">0%</span>
                                </div>
                                <div class="bar-container">
                                    <div id="enGreenBar" class="bar-fill bg-emerald-500" style="width: 0%"></div>
                                </div>
                            </div>

                            <!-- Blue Bar -->
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-indigo-600 font-medium">Label: "Blue"</span>
                                    <span id="enBlueVal" class="text-stone-500">0%</span>
                                </div>
                                <div class="bar-container">
                                    <div id="enBlueBar" class="bar-fill bg-indigo-600" style="width: 0%"></div>
                                </div>
                            </div>

                            <p class="text-xs text-stone-400 mt-4 leading-tight">
                                è‹±èªåœã®ã€ŒBlueã€ã¯ã‚·ã‚¢ãƒ³ä»˜è¿‘(190Â°å‰å¾Œ)ã§æ€¥æ¿€ã«ã€ŒGreenã€ã¨å…¥ã‚Œæ›¿ã‚ã‚Šã¾ã™ã€‚
                            </p>
                        </div>

                        <!-- Japanese Model View -->
                        <div class="bg-stone-50 rounded-xl p-6 border border-stone-200 relative overflow-hidden">
                            <!-- Bias Highlight -->
                            <div id="biasIndicator" class="absolute top-0 right-0 bg-rose-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg hidden">
                                Cultural Bias Detected!
                            </div>

                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-bold text-stone-700">ğŸ‡¯ğŸ‡µ Japanese Model</h3>
                                <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded">Ja-CLIP</span>
                            </div>

                            <!-- Midori Bar -->
                            <div class="mb-3">
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-emerald-600 font-medium">Label: "Midori"</span>
                                    <span id="jaGreenVal" class="text-stone-500">0%</span>
                                </div>
                                <div class="bar-container">
                                    <div id="jaGreenBar" class="bar-fill bg-emerald-500" style="width: 0%"></div>
                                </div>
                            </div>

                            <!-- Ao Bar -->
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-indigo-600 font-medium">Label: "Ao" (Blue)</span>
                                    <span id="jaBlueVal" class="text-stone-500">0%</span>
                                </div>
                                <div class="bar-container">
                                    <div id="jaBlueBar" class="bar-fill bg-indigo-600" style="width: 0%"></div>
                                </div>
                            </div>

                            <p class="text-xs text-stone-400 mt-4 leading-tight">
                                æ—¥æœ¬èªã®ã€ŒAoã€ã¯ã€è‹±èªã®Greenã®é ˜åŸŸã¾ã§å¤§ããé£Ÿã„è¾¼ã‚“ã§åˆ¤å®šã•ã‚Œã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Methodology Overview -->
        <section>
            <div class="mb-8 border-l-4 border-indigo-600 pl-4">
                <h2 class="text-2xl font-bold text-stone-800">å®Ÿé¨“ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</h2>
                <p class="text-stone-500">ã©ã®ã‚ˆã†ã«ã—ã¦ã€Œæ–‡åŒ–çš„ãªæ­ªã¿ã€ã‚’å¯è¦–åŒ–ã™ã‚‹ã®ã‹ï¼Ÿ</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Step 1 -->
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4 text-stone-700">ğŸ¨</div>
                    <h3 class="font-bold text-stone-800 mb-2">1. ã‚¹ãƒšã‚¯ãƒˆãƒ«ç”Ÿæˆ</h3>
                    <p class="text-sm text-stone-600 leading-relaxed">
                        HSVè‰²ç©ºé–“ã«ãŠã„ã¦ã€è‰²ç›¸(Hue)ã‚’120Â°(ç´”ç²‹ãªç·‘)ã‹ã‚‰240Â°(ç´”ç²‹ãªé’)ã¾ã§1Â°åˆ»ã¿ã§å¤‰åŒ–ã•ã›ãŸç”»åƒãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
                    </p>
                </div>

                <!-- Step 2 -->
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4 text-stone-700">ğŸ¤–</div>
                    <h3 class="font-bold text-stone-800 mb-2">2. ãƒ‡ãƒ¥ã‚¢ãƒ«æ¨è«–</h3>
                    <p class="text-sm text-stone-600 leading-relaxed">
                        åŒä¸€ã®ç”»åƒç¾¤ã‚’ã€Œè‹±èªå­¦ç¿’CLIPã€ã¨ã€Œæ—¥æœ¬èªå­¦ç¿’CLIPã€ã«å…¥åŠ›ã€‚ãã‚Œãã‚Œã«å¯¾ã—ã€ŒThis is Blue/Greenã€ãŠã‚ˆã³ã€Œã“ã‚Œã¯é’/ç·‘ã§ã™ã€ã®ç¢ºç‡(Softmax)ã‚’è¨ˆç®—ã—ã¾ã™ã€‚
                    </p>
                </div>

                <!-- Step 3 -->
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4 text-stone-700">âš–ï¸</div>
                    <h3 class="font-bold text-stone-800 mb-2">3. å¢ƒç•Œæ¯”è¼ƒ</h3>
                    <p class="text-sm text-stone-600 leading-relaxed">
                        ç¢ºç‡ãŒ50%ã‚’è¶…ãˆã‚‹ã€Œæ±ºå®šå¢ƒç•Œã€ãŒã€è‰²ç›¸ç’°ä¸Šã§ä½•åº¦ã‚ºãƒ¬ã¦ã„ã‚‹ã‹ã‚’è¨ˆæ¸¬ã—ã¾ã™ã€‚ã“ã®ã‚ºãƒ¬ã“ããŒã€è¨€èªæ–‡åŒ–ãŒAIã«ä¸ãˆã‚‹ãƒã‚¤ã‚¢ã‚¹ã®é‡ã§ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- 4. Quantitative Analysis (Chart.js) -->
        <section id="analysis" class="bg-white rounded-2xl p-8 border border-stone-200 shadow-lg">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 space-y-4">
                    <h2 class="text-2xl font-bold text-stone-800">ã€ŒAoã€ã®å¢ƒç•Œç·š</h2>
                    <p class="text-sm text-stone-600 leading-relaxed">
                        å³ã®ã‚°ãƒ©ãƒ•ã¯ã€è‰²ç›¸(Hue)ã®å¤‰åŒ–ã«å¯¾ã™ã‚‹ã€Œé’(Ao)ã€ãƒ©ãƒ™ãƒ«ã®äºˆæ¸¬ç¢ºç‡ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                    </p>
                    <ul class="space-y-3 mt-4 text-sm">
                        <li class="flex items-start">
                            <span class="mr-2 text-stone-400">â—</span>
                            <span class="text-stone-700"><strong>ç‚¹ç·šï¼ˆè‹±èªãƒ¢ãƒ‡ãƒ«ï¼‰:</strong> Hue 190Â°ä»˜è¿‘ï¼ˆã‚·ã‚¢ãƒ³ï¼‰ã§æ€¥æ¿€ã«Greenã‹ã‚‰Blueã¸åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="mr-2 text-stone-400">â—</span>
                            <span class="text-stone-700"><strong>å®Ÿç·šï¼ˆæ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ï¼‰:</strong> Hue 150Â°ä»˜è¿‘ï¼ˆã‹ãªã‚Šç·‘å¯„ã‚Šï¼‰ã§ã‚‚ã€ŒAoã€ã®ç¢ºç‡ãŒé«˜ãç¶­æŒã•ã‚Œã¦ã„ã¾ã™ã€‚</span>
                        </li>
                    </ul>
                    <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-100 mt-4">
                        <p class="text-xs text-indigo-800 font-bold">Key Insight:</p>
                        <p class="text-xs text-indigo-700 mt-1">
                            æ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ã¯ã€è‹±èªãƒ¢ãƒ‡ãƒ«ãŒã€Œç¢ºå®Ÿã«Greenã€ã¨æ–­å®šã™ã‚‹é ˜åŸŸã®ç´„30%ã‚’ã€Œé’ã€ã¨èªè­˜ã—ã¦ã„ã¾ã™ã€‚
                        </p>
                    </div>
                </div>

                <div class="lg:col-span-2 flex flex-col justify-center">
                    <div class="chart-container">
                        <canvas id="analysisChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-stone-400 mt-3">Figure 1: Comparison of "Blue/Ao" Probability Curves across Hue Spectrum</p>
                </div>
            </div>
        </section>

        <!-- 5. Future Directions -->
        <section id="future">
            <div class="mb-8 border-l-4 border-indigo-600 pl-4">
                <h2 class="text-2xl font-bold text-stone-800">è€ƒå¯Ÿã¨ä»Šå¾Œã®å±•æœ›</h2>
                <p class="text-stone-500">ã“ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è«–æ–‡ã¨ã—ã¦ç™ºå±•ã•ã›ã‚‹ãŸã‚ã®Deep Dive</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Topic A -->
                <div class="bg-white border-t-4 border-emerald-500 p-6 rounded-lg shadow-sm">
                    <h3 class="font-bold text-stone-800 text-lg mb-2">ç”ŸæˆAIã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—</h3>
                    <p class="text-sm text-stone-600">
                        èªè­˜ã ã‘ã§ãªãç”Ÿæˆï¼ˆStable Diffusionç­‰ï¼‰ã«ãŠã„ã¦ã‚‚ã€ã€Œé’ã€…ã¨ã—ãŸæ£®ã€ã¨ã„ã†ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒä¸è‡ªç„¶ã«é’ã„æœ¨ã€…ã‚’ç”Ÿæˆã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ–‡åŒ–çš„ãªæ­ªã¿ãŒè¦–è¦šç”Ÿæˆã«ã©ã†é‚„æµã™ã‚‹ã‹ã‚’æ¤œè¨¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
                    </p>
                </div>

                <!-- Topic B -->
                <div class="bg-white border-t-4 border-rose-500 p-6 rounded-lg shadow-sm">
                    <h3 class="font-bold text-stone-800 text-lg mb-2">ã€Œèµ¤(Aka)ã€ã®å¢ƒç•Œç·š</h3>
                    <p class="text-sm text-stone-600">
                        ã€Œé’ã€ã ã‘ã§ãªãã€ã€Œèµ¤ã€ã‚‚å¤ªé™½ã‚„éƒµä¾¿ãƒã‚¹ãƒˆãªã©æ–‡åŒ–çš„æ–‡è„ˆã‚’å«ã¿ã¾ã™ã€‚è‰²ç›¸ç’°å…¨ä½“ã«ãŠã‘ã‚‹ã€Œè¨€èªã«ã‚ˆã‚‹é ˜åœŸåˆ†å‰²ã€ã®é•ã„ã‚’ãƒãƒƒãƒ—åŒ–ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠåŒ…æ‹¬çš„ãªè«–æ–‡ã«ãªã‚Šã¾ã™ã€‚
                    </p>
                </div>

                <!-- Topic C -->
                <div class="bg-white border-t-4 border-amber-500 p-6 rounded-lg shadow-sm">
                    <h3 class="font-bold text-stone-800 text-lg mb-2">ãƒãƒ«ãƒãƒªãƒ³ã‚¬ãƒ«è©•ä¾¡æŒ‡æ¨™</h3>
                    <p class="text-sm text-stone-600">
                        ç¾åœ¨ã®ç”»åƒèªè­˜ç²¾åº¦è©•ä¾¡(ImageNetç­‰)ã¯è‹±èªä¸­å¿ƒã®ãƒ©ãƒ™ãƒ«å®šç¾©ã§ã™ã€‚æ—¥æœ¬èªã®ã€Œé’ã€ãŒã€ŒGreenã€ã¨åˆ¤å®šã•ã‚Œã¦ã€Œèª¤ç­”ã€ã¨ã•ã‚Œã‚‹ã‚±ãƒ¼ã‚¹ã‚’æ•‘æ¸ˆã™ã‚‹ã€æ–‡åŒ–å¯¾å¿œå‹è©•ä¾¡æŒ‡æ¨™ã®ææ¡ˆãŒå¯èƒ½ã§ã™ã€‚
                    </p>
                </div>

                <!-- Topic D -->
                <div class="bg-white border-t-4 border-indigo-500 p-6 rounded-lg shadow-sm">
                    <h3 class="font-bold text-stone-800 text-lg mb-2">ä½ãƒªã‚½ãƒ¼ã‚¹è¨€èªã¸ã®å¿œç”¨</h3>
                    <p class="text-sm text-stone-600">
                        ä¸–ç•Œã«ã¯ã€ŒGrueï¼ˆç·‘ã¨é’ã‚’åŒºåˆ¥ã—ãªã„ï¼‰ã€è¨€èªãŒå¤šæ•°å­˜åœ¨ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®è¨€èªãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ãŸéš›ã€è‰²ã®å¢ƒç•ŒãŒã©ã†å½¢æˆã•ã‚Œã‚‹ã‹ã¯ã€èªçŸ¥è¨€èªå­¦ã¨AIã®å­¦éš›çš„ãªå¤§ããªãƒ†ãƒ¼ãƒã«ãªã‚Šã¾ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="border-t border-stone-200 mt-12 py-8 text-center">
            <p class="text-stone-400 text-sm">Interactive Research Proposal Visualization</p>
            <p class="text-stone-300 text-xs mt-2">Â© 2024 Generated by Gemini â€¢ No SVG â€¢ No Mermaid</p>
        </footer>

    </main>

    <!-- JavaScript Logic -->
    <script>
        // ---------------------------------------------------------
        // 1. Interactive Simulator Logic
        // ---------------------------------------------------------
        const hueSlider = document.getElementById('hueSlider');
        const hueLabel = document.getElementById('hueLabel');
        const colorDisplay = document.getElementById('colorDisplay');

        // English Bars
        const enGreenBar = document.getElementById('enGreenBar');
        const enBlueBar = document.getElementById('enBlueBar');
        const enGreenVal = document.getElementById('enGreenVal');
        const enBlueVal = document.getElementById('enBlueVal');

        // Japanese Bars
        const jaGreenBar = document.getElementById('jaGreenBar');
        const jaBlueBar = document.getElementById('jaBlueBar');
        const jaGreenVal = document.getElementById('jaGreenVal');
        const jaBlueVal = document.getElementById('jaBlueVal');

        const biasIndicator = document.getElementById('biasIndicator');

        // Helper: Sigmoid function
        function sigmoid(x, k, x0) {
            return 1 / (1 + Math.exp(-k * (x - x0)));
        }

        function updateSimulation() {
            const hue = parseInt(hueSlider.value);

            // 1. Update Visuals
            const color = `hsl(${hue}, 100%, 50%)`;
            colorDisplay.style.backgroundColor = color;
            hueLabel.innerText = `Hue: ${hue}Â°`;
            hueLabel.style.color = hue > 180 ? '#4f46e5' : '#059669'; // Text color matches dominant hue

            // 2. Simulate Probabilities

            // English Model: Boundary around 190 (Cyan), fairly sharp (k=0.15)
            // If Hue < 190, Green is dominant. If Hue > 190, Blue is dominant.
            const enBlueProb = sigmoid(hue, 0.15, 190);
            const enGreenProb = 1 - enBlueProb;

            // Japanese Model: Boundary around 150 (Green-ish), broader "Ao" coverage (k=0.12)
            // "Ao" starts taking over much earlier than English "Blue"
            const jaBlueProb = sigmoid(hue, 0.12, 150);
            const jaGreenProb = 1 - jaBlueProb;

            // 3. Update Bars & Text

            // English Updates
            enGreenBar.style.width = `${enGreenProb * 100}%`;
            enBlueBar.style.width = `${enBlueProb * 100}%`;
            enGreenVal.innerText = `${(enGreenProb * 100).toFixed(0)}%`;
            enBlueVal.innerText = `${(enBlueProb * 100).toFixed(0)}%`;

            // Japanese Updates
            jaGreenBar.style.width = `${jaGreenProb * 100}%`;
            jaBlueBar.style.width = `${jaBlueProb * 100}%`;
            jaGreenVal.innerText = `${(jaGreenProb * 100).toFixed(0)}%`;
            jaBlueVal.innerText = `${(jaBlueProb * 100).toFixed(0)}%`;

            // 4. Detect Bias
            // If English is confident it's Green (>80%) BUT Japanese is confident it's Ao (>60%)
            if (enGreenProb > 0.8 && jaBlueProb > 0.6) {
                biasIndicator.classList.remove('hidden');
                biasIndicator.innerText = "æ–‡åŒ–çš„ãªã‚ºãƒ¬ (Green yet Ao)";
            } else {
                biasIndicator.classList.add('hidden');
            }
        }

        // Set gradient on slider track
        hueSlider.style.background = `linear-gradient(to right, hsl(120,100%,50%), hsl(180,100%,50%), hsl(240,100%,50%))`;

        // Event Listener
        hueSlider.addEventListener('input', updateSimulation);

        // Initial call
        updateSimulation();


        // ---------------------------------------------------------
        // 2. Chart.js Visualization
        // ---------------------------------------------------------

        // Prepare Data for the Chart
        const hues = [];
        const dataEn = [];
        const dataJa = [];

        for (let h = 120; h <= 240; h += 2) {
            hues.push(h);
            dataEn.push(sigmoid(h, 0.15, 190)); // Same logic as simulator
            dataJa.push(sigmoid(h, 0.12, 150));
        }

        // Chart Config
        const ctx = document.getElementById('analysisChart').getContext('2d');

        // Label Wrapper Logic (Required)
        function wrapLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxLen) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: hues,
                datasets: [
                    {
                        label: 'Japanese Model (Prob. of "Ao")',
                        data: dataJa,
                        borderColor: '#4f46e5', // Indigo 600
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        borderWidth: 3,
                        pointRadius: 0,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'English Model (Prob. of "Blue")',
                        data: dataEn,
                        borderColor: '#10b981', // Emerald 500 (Representing the contrast/baseline)
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        fill: false,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            usePointStyle: true,
                            font: { family: "'Noto Sans JP', sans-serif" }
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                return `Hue: ${label}Â°`;
                            },
                            label: function(context) {
                                return context.dataset.label + ': ' + (context.raw * 100).toFixed(1) + '%';
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: wrapLabel('Hueã«å¯¾ã™ã‚‹ã€Œé’/Aoã€ã®ãƒ©ãƒ™ãƒ«ç¢ºç‡æ¯”è¼ƒ'),
                        font: { size: 16, family: "'Noto Sans JP', sans-serif" },
                        color: '#44403c',
                        padding: { bottom: 20 }
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: 'Hue (Spectrum Degree)' },
                        grid: { display: false }
                    },
                    y: {
                        title: { display: true, text: 'Probability' },
                        min: 0,
                        max: 1,
                        ticks: {
                            callback: function(value) { return value * 100 + '%'; }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
